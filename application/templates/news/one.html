{% import "macros/comments.html" as comments %}
{% import "macros/user.html" as user %}
{% extends "layout.html" %}
{% block content %}
<div class="row">
<div class="col-sm-6 col-sm-offset-3">
<div class="news-one">
    <article class="frame">
        <div class="edit-buttons">
            <a href="/news/edit/{{ news.id }}"><span class="fa fa-edit"></span></a>
        </div>
        <h3 class="title">{{ news.title or '' }}</h3>
        <div class="text">{{ news.text|safe or '' }}</div>
        <div class="datetime">{{ news.datetime|datetime(time=False) or '' }}</div>
        <div class="footer">
            <div class="author">
                {{ user.icon(news.author) }}
                <div class="comments-counter">
                    <span class="fa fa-comments-o"></span>{{ news.comments_count or 0}}
                </div>
                <div class="likes">
                    <span class="fa fa-heart"></span>{{ news.likes_count or 0 }}
                </div>
            </div>
        </div>
    </article>
    {{ comments.new(current_user, news.__tablename__, news.id) }}
    {{ comments.show(news.comments) }}
</div>
</div>
</div>

{% endblock %}